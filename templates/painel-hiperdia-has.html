<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIPERDIA - Sistema de Monitoramento de Pacientes Hipertensos</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>tailwind.config = { theme: { extend: { colors: { primary: '#4f46e5', secondary: '#10b981' }, borderRadius: { 'none': '0px', 'sm': '4px', DEFAULT: '8px', 'md': '12px', 'xl': '20px', '2xl': '24px', '3xl': '32px', 'full': '9999px', 'button': '8px' } } } }</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <link rel="stylesheet" href="/static/style.css"> 
    <script type="module" src="{{ url_for('static', filename='hiperdia_has_script.js') }}" defer></script>
</head>

<body class="bg-gray-50 min-h-screen">
    <header class="bg-white shadow-sm">
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"
      >
        <div class="flex items-center space-x-3">
          <div class="flex items-center">
            <div
              class="w-10 h-10 flex items-center justify-center bg-primary bg-opacity-10 rounded-xl"
            >
              <div
                class="w-6 h-6 flex items-center justify-center text-primary"
              >
                <i class="ri-heart-pulse-fill"></i>
              </div>
            </div>
            <h1
              class="ml-2 text-2xl font-bold tracking-wider text-primary flex items-center"
            >
              HIPERDIA - Hipertensos
              <div
                class="w-5 h-5 flex items-center justify-center text-primary ml-1"
              >
                <i class="ri-pulse-line"></i>
              </div>
            </h1>
          </div>
          <div class="h-6 w-px bg-gray-200"></div>
          <span class="text-sm text-gray-600"
            >Sistema de Monitoramento de Pacientes Hipertensos</span
          >
        </div>
        <div class="flex items-center space-x-4">
            <div class="text-sm text-gray-600">
                <span>18/06/2025</span>
            </div>
            <div class="relative">
                <button class="flex items-center text-gray-700 hover:text-primary">
                    <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center mr-2">
                        <i class="ri-user-line"></i>
                    </div>
                    <span>Dr. Carlos Mendes</span>
                    <div class="w-4 h-4 flex items-center justify-center">
                        <i class="ri-arrow-down-s-line"></i>
                    </div>
                </button>
            </div>
        </div>
      </div>
    </header>
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded shadow-sm p-6 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Coluna da Esquerda: Filtros -->
                <div>
                    <div class="flex items-center mb-4">
                        <h2 id="acompanhamentoHipertensosTitle" class="text-xl font-semibold text-gray-800">Painel de
                            Controle</h2>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Equipe</label>
                            <div class="relative">
                                <button id="hiperdia-equipe-button"
                                    class="w-full bg-gray-50 hover:bg-gray-100 text-gray-700 py-2 px-3 text-left flex justify-between items-center border-b-2 border-gray-200 focus:border-primary transition-colors duration-200 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="w-6 h-6 flex items-center justify-center text-primary mr-2">
                                            <i class="ri-team-line"></i>
                                        </div>
                                        <span id="hiperdia-equipe-button-text">Todas as equipes</span>
                                    </div>
                                    <div class="w-4 h-4 flex items-center justify-center">
                                        <i class="ri-arrow-down-s-line"></i>
                                    </div>
                                </button>
                                <div id="hiperdia-equipe-dropdown"
                                    class="hidden absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto">
                                    <div id="hiperdia-equipe-dropdown-content" class="p-2">
                                        <!-- Conteúdo populado via JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Área - Agente:</label>
                            <div class="relative">
                                <button id="hiperdia-microarea-button"
                                    class="w-full bg-white border border-gray-300 rounded text-gray-700 py-2 px-3 text-left flex justify-between items-center !rounded-button whitespace-nowrap">
                                    <span id="hiperdia-microarea-button-text">Todas as áreas</span>
                                    <div class="w-4 h-4 flex items-center justify-center">
                                        <i class="ri-arrow-down-s-line"></i>
                                    </div>
                                </button>
                                <div id="hiperdia-microarea-dropdown"
                                    class="hidden absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto">
                                    <div id="hiperdia-microarea-dropdown-content" class="p-2">
                                        <!-- Conteúdo populado via JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Coluna da Direita: Cards -->
                <div>
                    <div class="grid grid-cols-3 gap-4 h-full">
                         <!-- Card 1: Total de Hipertensos -->
                        <div class="bg-indigo-50 rounded p-4 text-center flex flex-col justify-center">
                            <p class="text-sm font-medium text-gray-700 mb-2">Total de Hipertensos</p>
                            <p id="hipertensosCard" class="text-4xl font-bold text-primary">0</p>
                        </div>
                        <!-- Card 2: Hipertensos Compensados (Green) -->
                        <div class="bg-green-100 rounded p-4 text-center flex flex-col justify-center cursor-pointer hover:bg-green-200 transition-colors">
                            <p class="text-sm font-medium text-green-800 mb-2">Hipertensos</p>
                            <p class="text-sm font-medium text-green-800 mb-2">Compensados</p>
                            <p id="compensadosCard" class="text-4xl font-bold text-green-700">0</p>
                        </div>
                        <!-- Card 3: Hipertensos Descompensados (Red) -->
                        <div class="bg-red-100 rounded p-4 text-center flex flex-col justify-center cursor-pointer hover:bg-red-200 transition-colors">
                            <p class="text-sm font-medium text-red-800 mb-2">Hipertensos</p>
                            <p class="text-sm font-medium text-red-800 mb-2">Descompensados</p>
                            <p id="descompensadosCard" class="text-4xl font-bold text-red-700">0</p>
                        </div>
                        <!-- Card 4: Hipertensos em Avaliação (Yellow) -->
                        <div class="bg-yellow-50 rounded p-4 text-center flex flex-col justify-center">
                            <p class="text-sm font-medium text-yellow-800 mb-2">Hipertensos em</p>
                            <p class="text-sm font-medium text-yellow-800 mb-2">Avaliação</p>
                            <p id="emAvaliacaoCard" class="text-4xl font-bold text-yellow-700">0</p>
                        </div>
                        <!-- Card 5: Aguardando Exames (Blue) -->
                        <div class="bg-blue-50 rounded p-4 text-center flex flex-col justify-center">
                            <p class="text-sm font-medium text-blue-800 mb-2">Aguardando</p>
                            <p class="text-sm font-medium text-blue-800 mb-2">Exames</p>
                            <p id="aguardandoExamesCard" class="text-4xl font-bold text-blue-700">0</p>
                        </div>
                        <!-- Card 6: Sem Avaliação (Gray) -->
                        <div class="bg-gray-100 rounded p-4 text-center flex flex-col justify-center">
                            <p class="text-sm font-medium text-gray-800 mb-2">Sem</p>
                            <p class="text-sm font-medium text-gray-800 mb-2">Avaliação</p>
                            <p id="semAvaliacaoCard" class="text-4xl font-bold text-gray-700">0</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-white rounded shadow-sm p-6 mb-6">
            <div class="flex justify-between items-center mb-6">
                <h2 id="hiperdiaTimelineTitle" class="text-xl font-semibold text-gray-800">Lista de Pacientes Hipertensos</h2>
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <div class="flex items-center border border-gray-300 rounded-full px-3 py-1">
                            <div class="w-4 h-4 flex items-center justify-center text-gray-500 mr-2">
                                <i class="ri-search-line"></i>
                            </div>
                            <input id="hiperdia-search-input" type="text" placeholder="Buscar paciente"
                                class="border-none focus:outline-none text-sm w-48">
                        </div>
                    </div>
                    <!-- Menu de Exportação -->
                    <div class="relative">
                        <button id="hiperdia-export-menu-btn" 
                            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2 transition-colors">
                            <i class="ri-download-line"></i>
                            <span>Exportar</span>
                            <i class="ri-arrow-down-s-line"></i>
                        </button>
                        <div id="hiperdia-export-dropdown" 
                            class="hidden absolute right-0 mt-1 w-48 bg-white shadow-lg rounded-md border border-gray-200 z-50">
                            <div class="p-2">
                                <button id="hiperdia-export-excel-btn" 
                                    class="w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md flex items-center space-x-2 text-sm">
                                    <i class="ri-file-excel-line text-green-600"></i>
                                    <span>Excel (.xlsx)</span>
                                </button>
                                <button id="hiperdia-export-csv-btn" 
                                    class="w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md flex items-center space-x-2 text-sm">
                                    <i class="ri-file-text-line text-gray-600"></i>
                                    <span>CSV (.csv)</span>
                                </button>
                                <button id="hiperdia-export-pdf-btn" 
                                    class="w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md flex items-center space-x-2 text-sm">
                                    <i class="ri-file-pdf-line text-red-600"></i>
                                    <span>PDF (.pdf)</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <button id="hiperdia-print-prescriptions-btn" 
                        class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center space-x-2 transition-colors">
                        <i class="ri-printer-line"></i>
                        <span>Imprimir Receituários</span>
                    </button>
                </div>
            </div>
            <div class="overflow-hidden">
                <div class="flex space-x-2 mb-4">
                    <button
                        class="hiperdia-status-tab-btn bg-primary text-white py-1 px-3 rounded-full text-sm !rounded-button whitespace-nowrap"
                        data-status-filter="Todos" data-active-bg="bg-primary" data-active-text="text-white"
                        data-active-border="border-primary" data-inactive-bg="bg-white"
                        data-inactive-text="text-gray-700" data-inactive-border="border-gray-300">Todos</button>
                    <button
                        class="hiperdia-status-tab-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap"
                        data-status-filter="Controlado" data-active-bg="bg-green-500" data-active-text="text-white"
                        data-active-border="border-green-500" data-inactive-bg="bg-white"
                        data-inactive-text="text-gray-700" data-inactive-border="border-gray-300">Controlados</button>
                    <button
                        class="hiperdia-status-tab-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap"
                        data-status-filter="Descompensado" data-active-bg="bg-red-500" data-active-text="text-white"
                        data-active-border="border-red-500" data-inactive-bg="bg-white"
                        data-inactive-text="text-gray-700"
                        data-inactive-border="border-gray-300">Descompensados</button>
                    <button
                        class="hiperdia-status-tab-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap"
                        data-status-filter="MRPAPendente" data-active-bg="bg-yellow-400"
                        data-active-text="text-yellow-800" data-active-border="border-yellow-400"
                        data-inactive-bg="bg-white" data-inactive-text="text-gray-700"
                        data-inactive-border="border-gray-300">MRPA pendente</button>
                    <button
                        class="hiperdia-status-tab-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap"
                        data-status-filter="ExamesPendentes" data-active-bg="bg-blue-500" data-active-text="text-white"
                        data-active-border="border-blue-500" data-inactive-bg="bg-white"
                        data-inactive-text="text-gray-700" data-inactive-border="border-gray-300">Exames
                        pendentes</button>
                    <button
                        class="hiperdia-status-tab-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap"
                        data-status-filter="AcoesPendentes" data-active-bg="bg-orange-500" data-active-text="text-white"
                        data-active-border="border-orange-500" data-inactive-bg="bg-white"
                        data-inactive-text="text-gray-700" data-inactive-border="border-gray-300">Ações Pendentes</button>
                    <button
                        class="hiperdia-status-tab-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap"
                        data-status-filter="ComTratamento" data-active-bg="bg-purple-500" data-active-text="text-white"
                        data-active-border="border-purple-500" data-inactive-bg="bg-white"
                        data-inactive-text="text-gray-700" data-inactive-border="border-gray-300">Tratamento</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Paciente</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Status</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Tratamento Atual</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Próxima ação</th>
                                <th scope="col"
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Ações</th>
                                <th scope="col"
                                    class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    <div class="flex items-center justify-center space-x-2">
                                        <input type="checkbox" id="hiperdia-select-all-print" 
                                            class="h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded">
                                        <span>TODOS</span>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody id="hiperdia-tabela-pacientes-body" class="bg-white divide-y divide-gray-200">
                            <!-- Conteúdo populado via JS -->
                        </tbody>
                    </table>
                </div>
                <div class="flex justify-between items-center mt-4">
                    <!-- Left side: Items per page -->
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-600">Itens por página:</span>
                        <select id="hiperdia-items-per-page" class="border border-gray-300 rounded px-2 py-1 text-sm">
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                        </select>
                    </div>

                    <!-- Right side: Pagination Info and Buttons -->
                    <div class="flex items-center space-x-4">
                        <div id="hiperdia-pagination-info" class="text-sm text-gray-700">
                            <!-- Informações de paginação via JS -->
                        </div>
                        <div id="hiperdia-pagination-container" class="flex space-x-2">
                            <!-- Botões de paginação via JS -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal da Linha do Tempo (Timeline Modal) -->
            <div id="hiperdia-timelineModal"
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col">
                    <div class="flex justify-between items-center p-6 border-b flex-shrink-0">
                        <h3 id="hiperdia-timelineModalTitle" class="text-xl font-semibold text-gray-900">Linha do Tempo
                            - Paciente</h3>
                        <button id="hiperdia-closeTimelineModal" class="text-gray-400 hover:text-gray-500">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-close-line"></i>
                            </div>
                        </button>
                    </div>
                    <div class="p-6 overflow-y-auto">
                        <div class="flex mb-6">
                            <div class="w-1/3 pr-4">
                                <div class="bg-white rounded-lg shadow p-4">
                                    <div class="flex items-center justify-center mb-4">
                                        <div id="hiperdia-timelineModalAvatarIniciais"
                                            class="h-24 w-24 rounded-full bg-indigo-100 flex items-center justify-center text-primary text-2xl">
                                            <span>AM</span>
                                        </div>
                                    </div>
                                    <h4 id="hiperdia-timelineModalPacienteNome"
                                        class="text-lg font-medium text-center mb-2">Nome do Paciente</h4>
                                    <div id="hiperdia-timelineModalPacienteIdade"
                                        class="text-sm text-gray-500 text-center mb-4">Idade</div>
                                    <div class="space-y-2">
                                        <div class="flex justify-between">
                                            <span class="text-sm text-gray-600">Micro-área:</span>
                                            <span id="hiperdia-timelineModalMicroarea"
                                                class="text-sm font-medium">00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-sm text-gray-600">Equipe:</span>
                                            <span id="hiperdia-timelineModalEquipe" class="text-sm font-medium">Nome da
                                                Equipe</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-sm text-gray-600">Status:</span>
                                            <span id="hiperdia-timelineModalStatus"
                                                class="text-sm font-medium text-red-600">Status</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-sm text-gray-600">Última PA:</span>
                                            <span id="hiperdia-timelineModalUltimaPA"
                                                class="text-sm font-medium">N/A</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-sm text-gray-600">Risco CV:</span>
                                            <span id="hiperdia-timelineModalRiscoCV"
                                                class="text-sm font-medium text-orange-600">N/A</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-sm text-gray-600">Próxima ação:</span>
                                            <span id="hiperdia-timelineModalProximaAcao"
                                                class="text-sm font-medium">N/A</span>
                                        </div>
                                    </div>
                                    <div class="mt-6">
                                        <button id="hiperdia-timelineRegisterBtn"
                                            class="w-full bg-primary text-white py-2 px-4 rounded flex items-center justify-center !rounded-button whitespace-nowrap">
                                            <div class="w-5 h-5 flex items-center justify-center mr-1">
                                                <i class="ri-add-line"></i>
                                            </div>
                                            Registrar ação
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-2/3 pl-4">
                                <div class="flex space-x-2 mb-4">
                                    <button class="timeline-period-filter-btn bg-primary text-white py-1 px-3 rounded-full text-sm !rounded-button whitespace-nowrap" data-period-filter="all">Todos</button>
                                    <button class="timeline-period-filter-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap" data-period-filter="30d">30 dias</button>
                                    <button class="timeline-period-filter-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap" data-period-filter="90d">90 dias</button>
                                    <button class="timeline-period-filter-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap" data-period-filter="180d">180 dias</button>
                                    <button class="timeline-period-filter-btn bg-white text-gray-700 py-1 px-3 rounded-full text-sm border border-gray-300 !rounded-button whitespace-nowrap" data-period-filter="365d">365 dias</button>
                                </div>
                                <div class="relative">
                                    <div class="timeline-line"></div>
                                    <div id="hiperdia-timelineModalContentArea">
                                        <!-- Conteúdo da linha do tempo populado via JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 border-t flex justify-end flex-shrink-0">
                        <button id="hiperdia-closeTimelineModalBtn"
                            class="bg-gray-200 text-gray-800 py-2 px-4 rounded mr-2 !rounded-button whitespace-nowrap">Fechar</button>
                    </div>
                </div>
            </div>

            <!-- Modal de Registro de Ação (Register Modal) -->
            <div id="hiperdia-registerModal"
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
                    <div class="flex justify-between items-center p-6 border-b flex-shrink-0">
                        <h3 id="hiperdia-registerModalTitle" class="text-xl font-semibold text-gray-900">Registrar Nova
                            Ação</h3>
                        <button id="hiperdia-closeRegisterModal" class="text-gray-400 hover:text-gray-500">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-close-line"></i>
                            </div>
                        </button>
                    </div>
                    <div class="p-6 overflow-y-auto">
                        <form id="hiperdia-registerForm" class="space-y-6">
                            <div>
                                 <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de ação</label>
                                <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="9">
                        <i class="ri-calendar-check-line text-lg mr-2 text-yellow-500"></i>
                        <span class="text-sm font-medium">Agendar Hiperdia</span>
                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="1">
                                        <i class="ri-file-add-line text-lg mr-2 text-blue-500"></i>
                                        <span class="text-sm font-medium">Iniciar MRPA</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="2">
                                        <i class="ri-stethoscope-line text-lg mr-2 text-cyan-500"></i>
                                        <span class="text-sm font-medium">Avaliar MRPA</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="3">
                                        <i class="ri-capsule-line text-lg mr-2 text-purple-500"></i>
                                        <span class="text-sm font-medium">Modificar tratamento</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="4">
                                        <i class="ri-test-tube-line text-lg mr-2 text-orange-500"></i>
                                        <span class="text-sm font-medium">Solicitar Exames</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="5">
                                        <i class="ri-file-search-line text-lg mr-2 text-yellow-500"></i>
                                        <span class="text-sm font-medium">Avaliar Exames</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="6">
                                        <i class="ri-heart-pulse-line text-lg mr-2 text-red-500"></i>
                                        <span class="text-sm font-medium">Avaliar RCV</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="7">
                                        <i class="ri-arrow-right-up-line text-lg mr-2 text-indigo-500"></i>
                                        <span class="text-sm font-medium">Encaminhar Nutrição</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="8">
                                        <i class="ri-apple-line text-lg mr-2 text-green-500"></i>
                                        <span class="text-sm font-medium">Registrar Nutrição</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="10">
                                        <i class="ri-arrow-right-line text-lg mr-2 text-pink-500"></i>
                                        <span class="text-sm font-medium">Encaminhar Cardiologia</span>
                                    </button>
                                    <button type="button" class="action-type-tab flex items-center py-2 px-3 border rounded-lg text-left transition-colors duration-200" data-action-value="11">
                                        <i class="ri-heart-add-line text-lg mr-2 text-rose-500"></i>
                                        <span class="text-sm font-medium">Registrar Cardiologia</span>
                                    </button>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Data da ação</label>
                                <input type="date" id="hiperdia-data-acao-atual"
                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                            </div>

                            <!-- Seções dinâmicas -->
                            <div id="hiperdia-mrpaSection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Resultados do MRPA (7
                                    dias)</label>
                                <div class="space-y-3">
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Média sistólica
                                                (mmHg)</label>
                                            <input type="number" id="hiperdia-mrpa-sistolica"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 140">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Média diastólica
                                                (mmHg)</label>
                                            <input type="number" id="hiperdia-mrpa-diastolica"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 90">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Análise do MRPA</label>
                                        <textarea id="hiperdia-mrpa-analise"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-24"
                                            placeholder="Descreva a análise do resultado do MRPA..."></textarea>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-2">Decisão Pós-Avaliação</label>
                                        <div class="flex space-x-2 mb-3">
                                            <button type="button"
                                                class="mrpa-decision-btn flex-1 flex items-center justify-center p-3 border rounded-lg text-center transition-colors duration-200 border-gray-300 text-gray-600 hover:bg-gray-50"
                                                data-decision="maintain">
                                                <i class="ri-check-line text-xl mr-2 text-green-500"></i>
                                                <span class="text-sm font-medium">Manter Tratamento</span>
                                            </button>
                                            <button type="button"
                                                class="mrpa-decision-btn flex-1 flex items-center justify-center p-3 border rounded-lg text-center transition-colors duration-200 border-gray-300 text-gray-600 hover:bg-gray-50"
                                                data-decision="modify">
                                                <i class="ri-flask-line text-xl mr-2 text-red-500"></i>
                                                <span class="text-sm font-medium">Modificar Tratamento</span>
                                            </button>
                                            <button type="button"
                                                class="mrpa-decision-btn flex-1 flex items-center justify-center p-3 border rounded-lg text-center transition-colors duration-200 border-gray-300 text-gray-600 hover:bg-gray-50"
                                                data-decision="cardiology">
                                                <i class="ri-heart-pulse-line text-xl mr-2 text-blue-500"></i>
                                                <span class="text-sm font-medium">Encaminhar Cardiologia</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Seção para Encaminhar Cardiologia -->
                            <div id="hiperdia-encaminharCardiologiaSection" class="hidden">
                                <div class="bg-blue-50 border border-blue-200 rounded p-3">
                                    <div class="flex items-center">
                                        <i class="ri-arrow-right-line text-blue-600 mr-2"></i>
                                        <span class="text-sm font-medium text-blue-800">Encaminhamento para Cardiologia</span>
                                    </div>
                                    <p class="text-xs text-blue-600 mt-1">
                                        Use os campos "Profissional Responsável" e "Observações" abaixo para registrar o encaminhamento.
                                    </p>
                                </div>
                            </div>

                            <!-- Seção para Registrar Cardiologia -->
                            <div id="hiperdia-registrarCardiologiaSection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Dados da Consulta Cardiológica</label>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Profissional Responsável</label>
                                        <input type="text" id="hiperdia-cardiologia-reg-profissional"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                            placeholder="Nome do profissional que registra a consulta">
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Consulta Cardiologia</label>
                                        <textarea id="hiperdia-cardiologia-consulta"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-32"
                                            placeholder="Relatório completo da consulta cardiológica..."></textarea>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Recomendações da Cardiologia</label>
                                        <textarea id="hiperdia-cardiologia-recomendacoes"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-32"
                                            placeholder="Recomendações específicas do cardiologista..."></textarea>
                                    </div>
                                </div>
                            </div>

                            <div id="hiperdia-medicationSection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Ajuste de medicação</label>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Tipo de ajuste</label>
                                        <div class="space-y-2">
                                            <label class="custom-radio">
                                                <input type="radio" name="medication-type" value="Aumento de dose">
                                                <span class="radio-mark"></span>
                                                Aumento de dose
                                            </label>
                                            <label class="custom-radio">
                                                <input type="radio" name="medication-type" value="Troca de medicamento">
                                                <span class="radio-mark"></span>
                                                Troca de medicamento
                                            </label>
                                            <label class="custom-radio">
                                                <input type="radio" name="medication-type"
                                                    value="Adição de novo medicamento">
                                                <span class="radio-mark"></span>
                                                Adição de novo medicamento
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Medicamentos atuais</label>
                                        <div id="hiperdia-medicamentos-atuais-cards" class="grid grid-cols-1 md:grid-cols-2 gap-2"></div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Novos medicamentos</label>
                                        <textarea id="hiperdia-novos-medicamentos"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-16"
                                            placeholder="Ex: Anlodipino 5mg 1x/dia"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div id="hiperdia-labExamsSection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Exames laboratoriais</label>
                                <div class="space-y-3">
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Colesterol total
                                                (mg/dL)</label>
                                            <input type="number" id="hiperdia-colesterol-total"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 200">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">HDL (mg/dL)</label>
                                            <input type="number" id="hiperdia-hdl"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 45">
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">LDL (mg/dL)</label>
                                            <input type="number" id="hiperdia-ldl"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 130">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Triglicerídeos
                                                (mg/dL)</label>
                                            <input type="number" id="hiperdia-triglicerideos"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 150">
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Glicemia de jejum
                                                (mg/dL)</label>
                                            <input type="number" id="hiperdia-glicemia-jejum"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 95">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Hemoglobina glicada
                                                (%)</label>
                                            <input type="number" step="0.1" id="hiperdia-hemoglobina-glicada"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 5.7">
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Ureia (mg/dL)</label>
                                            <input type="number" id="hiperdia-ureia"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 40">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Creatinina (mg/dL)</label>
                                            <input type="number" step="0.1" id="hiperdia-creatinina"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 1.0">
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Sódio (mEq/L)</label>
                                            <input type="number" id="hiperdia-sodio"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 140">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Potássio (mEq/L)</label>
                                            <input type="number" step="0.1" id="hiperdia-potassio"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 4.5">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Ácido Úrico (mg/dL)</label>
                                        <input type="number" step="0.1" id="hiperdia-acido-urico"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                            placeholder="Ex: 5.5">
                                    </div>
                                </div>
                            </div>
                            <div id="hiperdia-imageExamsSection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Exames de imagem</label>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Tipo de exame</label>
                                        <div class="relative">
                                            <button id="hiperdia-examTypeButton"
                                                class="w-full bg-white border border-gray-300 rounded text-gray-700 py-2 px-3 text-left flex justify-between items-center !rounded-button whitespace-nowrap">
                                                <span id="hiperdia-examTypeButton-text">Selecione o tipo</span>
                                                <div class="w-4 h-4 flex items-center justify-center">
                                                    <i class="ri-arrow-down-s-line"></i>
                                                </div>
                                            </button>
                                            <div id="hiperdia-examTypeDropdown"
                                                class="hidden absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto">
                                                <div class="p-2">
                                                    <div class="cursor-pointer hover:bg-gray-100 p-2 rounded"
                                                        data-value="Eletrocardiograma">Eletrocardiograma</div>
                                                    <div class="cursor-pointer hover:bg-gray-100 p-2 rounded"
                                                        data-value="Ecocardiograma">Ecocardiograma</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="hiperdia-nutritionSection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Consulta com
                                    nutrição</label>
                                <div class="space-y-3">
                                    <div class="grid grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">Peso (kg)</label>
                                            <input type="number" step="0.1" id="hiperdia-peso"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 75.5">
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-500 mb-1">IMC (kg/m²)</label>
                                            <input type="number" step="0.1" id="hiperdia-imc"
                                                class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                placeholder="Ex: 27.5">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Circunferência abdominal
                                            (cm)</label>
                                        <input type="number" id="hiperdia-circunferencia-abdominal"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                            placeholder="Ex: 95">
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Orientações nutricionais</label>
                                        <textarea id="hiperdia-orientacoes-nutricionais"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-24"
                                            placeholder="Descreva as orientações nutricionais..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div id="hiperdia-cardiologySection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Consulta com
                                    cardiologia</label>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Tipo de consulta</label>
                                        <div class="space-y-2">
                                            <label class="custom-radio">
                                                <input type="radio" name="cardiology-type" value="Presencial">
                                                <span class="radio-mark"></span>
                                                Presencial
                                            </label>
                                            <label class="custom-radio">
                                                <input type="radio" name="cardiology-type" value="Telemedicina">
                                                <span class="radio-mark"></span>
                                                Telemedicina
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Avaliação cardiológica</label>
                                        <textarea id="hiperdia-avaliacao-cardiologica"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-24"
                                            placeholder="Descreva a avaliação cardiológica..."></textarea>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Recomendações</label>
                                        <textarea id="hiperdia-recomendacoes-cardiologia"
                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-24"
                                            placeholder="Descreva as recomendações do cardiologista..."></textarea>
                                    </div>
                                </div>
                            </div>
                            <div id="hiperdia-riskSection" class="hidden">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Avaliação de risco
                                    cardiovascular</label>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Calculadora HEARTS
                                            (OMS/OPAS)</label>
                                        <div class="bg-gray-50 p-3 rounded border border-gray-200">
                                            <div class="space-y-3">
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <label class="block text-xs text-gray-500 mb-1">Idade</label>
                                                        <input type="number" id="hiperdia-risco-idade"
                                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                            value="68">
                                                    </div>
                                                    <div>
                                                        <label class="block text-xs text-gray-500 mb-1">Sexo</label>
                                                        <div class="space-y-2">
                                                            <label class="custom-radio">
                                                                <input type="radio" name="gender" value="Masculino"
                                                                    checked>
                                                                <span class="radio-mark"></span>
                                                                Masculino
                                                            </label>
                                                            <label class="custom-radio">
                                                                <input type="radio" name="gender" value="Feminino">
                                                                <span class="radio-mark"></span>
                                                                Feminino
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <label class="block text-xs text-gray-500 mb-1">Tabagismo</label>
                                                    <div class="space-y-2">
                                                        <label class="custom-radio">
                                                            <input type="radio" name="smoking" value="Sim">
                                                            <span class="radio-mark"></span>
                                                            Sim
                                                        </label>
                                                        <label class="custom-radio">
                                                            <input type="radio" name="smoking" value="Não" checked>
                                                            <span class="radio-mark"></span>
                                                            Não
                                                        </label>
                                                    </div>
                                                </div>
                                                <div>
                                                    <label class="block text-xs text-gray-500 mb-1">Diabetes</label>
                                                    <div class="space-y-2">
                                                        <label class="custom-radio">
                                                            <input type="radio" name="diabetes" value="Sim">
                                                            <span class="radio-mark"></span>
                                                            Sim
                                                        </label>
                                                        <label class="custom-radio">
                                                            <input type="radio" name="diabetes" value="Não" checked>
                                                            <span class="radio-mark"></span>
                                                            Não
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <label class="block text-xs text-gray-500 mb-1">Colesterol total
                                                            (mg/dL)</label>
                                                        <input type="number" id="hiperdia-risco-colesterol-total"
                                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                            value="240">
                                                    </div>
                                                    <div>
                                                        <label class="block text-xs text-gray-500 mb-1">PAS
                                                            (mmHg)</label>
                                                        <input type="number" id="hiperdia-risco-pas"
                                                            class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                            value="150">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Campo de Profissional Responsável -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Profissional Responsável</label>
                                <input type="text" id="hiperdia-responsavel-acao"
                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                    placeholder="Nome do profissional">
                            </div>
                            <!-- Campo de Observações (comum a todas as ações) -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Observações</label>
                                <textarea id="hiperdia-observacoes"
                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-24"
                                    placeholder="Registre informações adicionais relevantes..."></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="p-6 border-t flex justify-end flex-shrink-0">
                        <button id="hiperdia-cancelRegisterBtn"
                            class="bg-gray-200 text-gray-800 py-2 px-4 rounded mr-2 !rounded-button whitespace-nowrap">Cancelar</button>
                        <button id="hiperdia-saveRegisterModalBtn"
                            class="bg-primary text-white py-2 px-4 rounded !rounded-button whitespace-nowrap">Salvar Ação</button>
                    </div>
                </div>
            </div>

            <!-- Modal de Gerenciamento de Tratamento -->
            <div id="hiperdia-treatmentModal"
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col">
                    <div class="flex justify-between items-center p-6 border-b flex-shrink-0">
                        <h3 id="hiperdia-treatmentModalTitle" class="text-xl font-semibold text-gray-900">Gerenciar Tratamento</h3>
                        <button id="hiperdia-closeTreatmentModal" type="button" class="text-gray-400 hover:text-gray-500">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="ri-close-line"></i>
                            </div>
                        </button>
                    </div>
                    <div class="p-6 overflow-y-auto">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Coluna da Esquerda: Informações do Paciente -->
                            <div>
                                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                                    <div class="flex items-center mb-4">
                                        <div id="hiperdia-treatmentModalAvatarIniciais"
                                            class="h-16 w-16 rounded-full bg-indigo-100 flex items-center justify-center text-primary text-lg font-medium mr-4">
                                            <span>AM</span>
                                        </div>
                                        <div>
                                            <h4 id="hiperdia-treatmentModalPacienteNome" class="text-lg font-medium">Nome do Paciente</h4>
                                            <p id="hiperdia-treatmentModalPacienteIdade" class="text-sm text-gray-500">Idade</p>
                                            <p id="hiperdia-treatmentModalPacienteInfo" class="text-sm text-gray-500">Equipe - Área</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Medicamentos Atuais -->
                                <div class="mb-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h5 class="text-lg font-medium text-gray-900">Medicamentos Atuais</h5>
                                        <div id="hiperdia-medicamentosAtivosCount" class="text-sm text-gray-500">0 medicamentos</div>
                                    </div>
                                    <div id="hiperdia-medicamentosAtuaisContainer" class="space-y-3">
                                        <!-- Medicamentos atuais serão populados via JS -->
                                        <div id="hiperdia-noMedicamentosMessage" class="text-center py-8 text-gray-500 hidden">
                                            <div class="w-16 h-16 mx-auto mb-4 text-gray-300">
                                                <i class="ri-medicine-bottle-line text-4xl"></i>
                                            </div>
                                            <p>Nenhum medicamento cadastrado</p>
                                            <p class="text-sm mt-1">Use o formulário ao lado para adicionar medicamentos</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Coluna da Direita: Gestão de Medicamentos -->
                            <div>
                                <form id="hiperdia-treatmentForm" class="space-y-6">
                                    <!-- Tipo de Ação -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-3">Ação</label>
                                        <div class="grid grid-cols-1 gap-3">
                                            <button type="button" class="treatment-action-tab active flex items-center p-3 border rounded-lg text-left transition-colors duration-200 border-primary bg-primary/10 text-primary" data-action="add">
                                                <i class="ri-add-line text-xl mr-3 text-green-500"></i>
                                                <div>
                                                    <div class="font-medium">Adicionar Medicamento</div>
                                                    <div class="text-xs text-gray-500">Prescrever novo medicamento</div>
                                                </div>
                                            </button>
                                            <button type="button" class="treatment-action-tab flex items-center p-3 border rounded-lg text-left transition-colors duration-200 border-gray-200 bg-white hover:bg-gray-50 text-gray-600" data-action="modify">
                                                <i class="ri-edit-line text-xl mr-3 text-blue-500"></i>
                                                <div>
                                                    <div class="font-medium">Modificar Tratamento</div>
                                                    <div class="text-xs text-gray-500">Ajustar dose ou frequência</div>
                                                </div>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Seção: Adicionar Medicamento -->
                                    <div id="hiperdia-addMedicationSection" class="space-y-4">
                                        <h6 class="font-medium text-gray-900">Novo Medicamento</h6>
                                        <div class="grid grid-cols-1 gap-4">
                                            <div>
                                                <label for="hiperdia-novoMedicamentoNome" class="block text-sm font-medium text-gray-700 mb-1">Nome do Medicamento</label>
                                                <select id="hiperdia-novoMedicamentoNome"
                                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                                    <option value="">Selecione o medicamento</option>
                                                    <!-- Opções serão carregadas dinamicamente via JavaScript -->
                                                </select>
                                            </div>
                                            <div>
                                                <label for="hiperdia-novoMedicamentoDose" class="block text-sm font-medium text-gray-700 mb-1">Dose (comprimidos por vez)</label>
                                                <select id="hiperdia-novoMedicamentoDose"
                                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                                    <option value="">Selecione a dose</option>
                                                    <option value="1">1 comprimido</option>
                                                    <option value="2">2 comprimidos</option>
                                                    <option value="3">3 comprimidos</option>
                                                    <option value="4">4 comprimidos</option>
                                                    <option value="5">5 comprimidos</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label for="hiperdia-novoMedicamentoFrequencia" class="block text-sm font-medium text-gray-700 mb-1">Frequência (vezes por dia)</label>
                                                <select id="hiperdia-novoMedicamentoFrequencia"
                                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                                    <option value="">Selecione a frequência</option>
                                                    <option value="1">1x ao dia</option>
                                                    <option value="2">2x ao dia</option>
                                                    <option value="3">3x ao dia</option>
                                                    <option value="4">4x ao dia</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label for="hiperdia-novoMedicamentoDataInicio" class="block text-sm font-medium text-gray-700 mb-1">Data de Início <span class="text-gray-500 text-xs">(opcional)</span></label>
                                                <input type="date" id="hiperdia-novoMedicamentoDataInicio"
                                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                                                    placeholder="Deixe em branco para usar data atual">
                                            </div>
                                            <div>
                                                <label for="hiperdia-novoMedicamentoObservacoes" class="block text-sm font-medium text-gray-700 mb-1">Observações</label>
                                                <textarea id="hiperdia-novoMedicamentoObservacoes"
                                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-20"
                                                    placeholder="Observações sobre o medicamento..."></textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Seção: Modificar Medicamento -->
                                    <div id="hiperdia-modifyMedicationSection" class="space-y-4 hidden">
                                        <h6 class="font-medium text-gray-900">Modificar Medicamento Existente</h6>
                                        <div class="grid grid-cols-1 gap-4">
                                            <div>
                                                <label for="hiperdia-selectMedicamentoModificar" class="block text-sm font-medium text-gray-700 mb-1">Selecionar Medicamento</label>
                                                <select id="hiperdia-selectMedicamentoModificar"
                                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                                    <option value="">Selecione um medicamento</option>
                                                </select>
                                            </div>
                                            <div class="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Modificação</label>
                                                    <div class="space-y-2">
                                                        <label class="custom-radio">
                                                            <input type="radio" name="modification-type" value="frequency">
                                                            <span class="radio-mark"></span>
                                                            Alterar frequência
                                                        </label>
                                                        <label class="custom-radio">
                                                            <input type="radio" name="modification-type" value="stop">
                                                            <span class="radio-mark"></span>
                                                            Interromper medicamento
                                                        </label>
                                                        <label class="custom-radio">
                                                            <input type="radio" name="modification-type" value="pause">
                                                            <span class="radio-mark"></span>
                                                            Pausar temporariamente
                                                        </label>
                                                    </div>
                                                </div>
                                                <div id="hiperdia-newFrequencySection" class="hidden">
                                                    <label for="hiperdia-novaFrequencia" class="block text-sm font-medium text-gray-700 mb-1">Nova Frequência</label>
                                                    <select id="hiperdia-novaFrequencia"
                                                        class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                                        <option value="1">1x ao dia</option>
                                                        <option value="2">2x ao dia</option>
                                                        <option value="3">3x ao dia</option>
                                                        <option value="4">4x ao dia</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div>
                                                <label for="hiperdia-modificacaoObservacoes" class="block text-sm font-medium text-gray-700 mb-1">Motivo da Modificação</label>
                                                <textarea id="hiperdia-modificacaoObservacoes"
                                                    class="w-full border border-gray-300 rounded py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-20"
                                                    placeholder="Descreva o motivo da modificação..."></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 border-t flex justify-end flex-shrink-0">
                        <button id="hiperdia-cancelTreatmentBtn" type="button"
                            class="bg-gray-200 text-gray-800 py-2 px-4 rounded mr-2 focus:outline-none focus:ring-2 focus:ring-gray-300 !rounded-button whitespace-nowrap">Cancelar</button>
                        <button id="hiperdia-saveTreatmentBtn" type="button"
                            class="bg-primary text-white py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-primary/20 !rounded-button whitespace-nowrap">Salvar Alterações</button>
                    </div>
                </div>
            </div>
    </main>
</body>

</html>
